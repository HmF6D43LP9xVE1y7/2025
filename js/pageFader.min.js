window.addEventListener('load', () => {
    fadeInPage()
});
function fadeInPage() {
    if (!window.AnimationEvent) return;
    const fader = document.querySelector('.pageFader');
    fader.classList.add('fade-out');
}
document.addEventListener('DOMContentLoaded', function () {
    if (!window.AnimationEvent) return;
    const fader = document.querySelector('.pageFader');
    const anchors = Array.from(document.querySelectorAll('a'));
    anchors.forEach(anchor => {
        if (anchor.hostname === window.location.hostname) {
            anchor.addEventListener('click', function (event) {
                event.preventDefault();
                const listener = function () {
                    window.location = anchor.href;
                    fader.removeEventListener('animationend', listener);
                };
                fader.addEventListener('animationend', listener);
                fader.classList.add('fade-in');
            });
        }
    });
});
window.addEventListener('pageshow', function (event) {
    if (event.persisted) {
        const fader = document.querySelector('.pageFader');
        fader.classList.remove('fade-in');
    }
});