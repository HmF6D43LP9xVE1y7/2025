console.clear();
// define images
let images = [
    { url: 'assets/buechehof/', src: 'tim_ott_2024_06_werk_1_erlinsbach_053', thumb: 'tim_ott_2024_06_werk_1_erlinsbach_053', project: 'buechehof', index: '0', mobileColumn: '2 / 12', mobileRow: '1 / 15', desktopColumn: '4 / 14', desktopRow: '1 / 15' },
    { url: 'assets/buechehof/', src: 'tim_ott_2024_06_werk_1_erlinsbach_050', thumb: 'tim_ott_2024_06_werk_1_erlinsbach_050', project: 'buechehof', index: '1', mobileColumn: '2 / 16', mobileRow: '17 / 27', desktopColumn: '16 / 30', desktopRow: '3 / 13' },
    { url: 'assets/buechehof/', src: 'tim_ott_2024_06_werk_1_erlinsbach_065', thumb: 'tim_ott_2024_06_werk_1_erlinsbach_065', project: 'buechehof', index: '2', mobileColumn: '2 / 16', mobileRow: '41 / 51', desktopColumn: '9 / 23', desktopRow: '27 / 37' },
    { url: 'assets/buechehof/', src: 'tim_ott_2024_06_werk_1_erlinsbach_058', thumb: 'tim_ott_2024_06_werk_1_erlinsbach_058', project: 'buechehof', index: '3', mobileColumn: '2 / 9', mobileRow: '29 / 39', desktopColumn: '16 / 23', desktopRow: '15 / 25' },
    { url: 'assets/buechehof/', src: 'tim_ott_2024_06_werk_1_erlinsbach_046', thumb: 'tim_ott_2024_06_werk_1_erlinsbach_046', project: 'buechehof', index: '4', mobileColumn: '2 / 12', mobileRow: '53 / 60', desktopColumn: '25 / 35', desktopRow: '22 / 29' },
    { url: 'assets/buechehof/', src: 'tim_ott_2024_06_werk_1_erlinsbach_040', thumb: 'tim_ott_2024_06_werk_1_erlinsbach_040', project: 'buechehof', index: '5', mobileColumn: '2 / 9', mobileRow: '74 / 84', desktopColumn: '2 / 9', desktopRow: '43 / 53' },
    { url: 'assets/buechehof/', src: 'tim_ott_2024_06_werk_1_erlinsbach_034', thumb: 'tim_ott_2024_06_werk_1_erlinsbach_034', project: 'buechehof', index: '6', mobileColumn: '2 / 16', mobileRow: '62 / 72', desktopColumn: '30 / 44', desktopRow: '31 / 41' },
    { url: 'assets/buechehof/', src: 'tim_ott_2024_06_werk_1_erlinsbach_012', thumb: 'tim_ott_2024_06_werk_1_erlinsbach_012', project: 'buechehof', index: '7', mobileColumn: '2 / 12', mobileRow: '98 / 112', desktopColumn: '30 / 40', desktopRow: '43 / 57' },
    { url: 'assets/buechehof/', src: 'tim_ott_2024_06_werk_1_erlinsbach_011', thumb: 'tim_ott_2024_06_werk_1_erlinsbach_011', project: 'buechehof', index: '8', mobileColumn: '2 / 9', mobileRow: '86 / 96', desktopColumn: '21 / 28', desktopRow: '49 / 59' },
    { url: 'assets/buechehof/', src: 'tim_ott_2024_06_werk_1_erlinsbach_005', thumb: 'tim_ott_2024_06_werk_1_erlinsbach_005', project: 'buechehof', index: '9', mobileColumn: '2 / 9', mobileRow: '114 / 124', desktopColumn: '16 / 23', desktopRow: '61 / 71' },
    { url: 'assets/buechehof/', src: 'tim_ott_2024_06_werk_1_erlinsbach_000', thumb: 'tim_ott_2024_06_werk_1_erlinsbach_000', project: 'buechehof', index: '10', mobileColumn: '2 / 12', mobileRow: '126 / 140', desktopColumn: '4 / 14', desktopRow: '59 / 73' },
    { url: 'assets/buechehof/', src: 'tim_ott_2023_03_werk_1_erlinsbach_230', thumb: 'tim_ott_2023_03_werk_1_erlinsbach_230', project: 'buechehof', index: '11', mobileColumn: '2 / 12', mobileRow: '142 / 149', desktopColumn: '32 / 42', desktopRow: '69 / 76' },
    { url: 'assets/buechehof/', src: 'tim_ott_2023_03_werk_1_erlinsbach_133', thumb: 'tim_ott_2023_03_werk_1_erlinsbach_133', project: 'buechehof', index: '12', mobileColumn: '2 / 16', mobileRow: '151 / 161', desktopColumn: '30 / 44', desktopRow: '78/ 88' },
    { url: 'assets/buechehof/', src: 'tim_ott_2023_03_werk_1_erlinsbach_220', thumb: 'tim_ott_2023_03_werk_1_erlinsbach_220', project: 'buechehof', index: '13', mobileColumn: '2 / 12', mobileRow: '163 / 170', desktopColumn: '30 / 40', desktopRow: '90 / 97' },
    { url: 'assets/buechehof/', src: 'tim_ott_2023_03_werk_1_erlinsbach_138', thumb: 'tim_ott_2023_03_werk_1_erlinsbach_138', project: 'buechehof', index: '14', mobileColumn: '2 / 16', mobileRow: '172 / 182', desktopColumn: '14 / 28', desktopRow: '92/ 102' },
    { url: 'assets/buechehof/', src: 'tim_ott_2023_03_werk_1_erlinsbach_148', thumb: 'tim_ott_2023_03_werk_1_erlinsbach_148', project: 'buechehof', index: '15', mobileColumn: '2 / 12', mobileRow: '184 / 191', desktopColumn: '2 / 12', desktopRow: '99 / 106' },
    { url: 'assets/buechehof/', src: 'tim_ott_2023_03_werk_1_erlinsbach_198', thumb: 'tim_ott_2023_03_werk_1_erlinsbach_198', project: 'buechehof', index: '16', mobileColumn: '2 / 16', mobileRow: '193 / 203', desktopColumn: '4 / 18', desktopRow: '108/ 118' },
    { url: 'assets/buechehof/', src: 'tim_ott_2023_03_werk_1_erlinsbach_218', thumb: 'tim_ott_2023_03_werk_1_erlinsbach_218', project: 'buechehof', index: '17', mobileColumn: '2 / 12', mobileRow: '205 / 212', desktopColumn: '34 / 44', desktopRow: '104 / 111' },
    { url: 'assets/wartenbergstrasse/', src: 'tim_ott_2024_09_hsa_wartenbergstrasse_068', thumb: 'tim_ott_2024_09_hsa_wartenbergstrasse_068', project: 'wartenbergstrasse', index: '0', mobileColumn: '2 / 12', mobileRow: '1 / 15', desktopColumn: '32 / 42', desktopRow: '1 / 15' },
    { url: 'assets/wartenbergstrasse/', src: 'tim_ott_2024_09_hsa_wartenbergstrasse_052c', thumb: 'tim_ott_2024_09_hsa_wartenbergstrasse_052c', project: 'wartenbergstrasse', index: '1', mobileColumn: '2 / 16', mobileRow: '17 / 27', desktopColumn: '16 / 30', desktopRow: '3 / 13' },
    { url: 'assets/wartenbergstrasse/', src: 'tim_ott_2024_09_hsa_wartenbergstrasse_061', thumb: 'tim_ott_2024_09_hsa_wartenbergstrasse_061', project: 'wartenbergstrasse', index: '2', mobileColumn: '2 / 9', mobileRow: '29 / 39', desktopColumn: '23 / 30', desktopRow: '15 / 25' },
    { url: 'assets/wartenbergstrasse/', src: 'tim_ott_2024_09_hsa_wartenbergstrasse_051', thumb: 'tim_ott_2024_09_hsa_wartenbergstrasse_051', project: 'wartenbergstrasse', index: '3', mobileColumn: '2 / 12', mobileRow: '41 / 48', desktopColumn: '11 / 21', desktopRow: '22 / 29' },
    { url: 'assets/wartenbergstrasse/', src: 'tim_ott_2024_09_hsa_wartenbergstrasse_048', thumb: 'tim_ott_2024_09_hsa_wartenbergstrasse_048', project: 'wartenbergstrasse', index: '4', mobileColumn: '2 / 16', mobileRow: '50 / 60', desktopColumn: '3 / 17', desktopRow: '31 / 41' },
    { url: 'assets/wartenbergstrasse/', src: 'tim_ott_2024_09_hsa_wartenbergstrasse_040', thumb: 'tim_ott_2024_09_hsa_wartenbergstrasse_040', project: 'wartenbergstrasse', index: '5', mobileColumn: '2 / 12', mobileRow: '62 / 69', desktopColumn: '23 / 37', desktopRow: '27 / 37' },
    { url: 'assets/wartenbergstrasse/', src: 'tim_ott_2024_09_hsa_wartenbergstrasse_016', thumb: 'tim_ott_2024_09_hsa_wartenbergstrasse_016', project: 'wartenbergstrasse', index: '6', mobileColumn: '2 / 12', mobileRow: '71 / 85', desktopColumn: '7 / 17', desktopRow: '43 / 57' },
    { url: 'assets/wartenbergstrasse/', src: 'tim_ott_2024_09_hsa_wartenbergstrasse_021', thumb: 'tim_ott_2024_09_hsa_wartenbergstrasse_021', project: 'wartenbergstrasse', index: '7', mobileColumn: '2 / 9', mobileRow: '87 / 97', desktopColumn: '19 / 26', desktopRow: '49 / 59' },
    { url: 'assets/wartenbergstrasse/', src: 'tim_ott_2024_09_hsa_wartenbergstrasse_008', thumb: 'tim_ott_2024_09_hsa_wartenbergstrasse_008', project: 'wartenbergstrasse', index: '8', mobileColumn: '2 / 9', mobileRow: '99 / 109', desktopColumn: '36 / 43', desktopRow: '43 / 53' },
    { url: 'assets/oubliettes/', src: 'asset_003', project: 'oubliettes', index: '0' },
    { url: 'assets/oubliettes/', src: 'asset_004', project: 'oubliettes', index: '0' },
    { url: 'assets/oubliettes/', src: 'asset_005', project: 'oubliettes', index: '0' },
    { url: 'assets/oubliettes/', src: 'asset_006', thumb: 'asset_006', project: 'oubliettes', index: '0', mobileColumn: '4 / 14', mobileRow: '1 / 8', desktopColumn: '2 / 12', desktopRow: '1 / 8' }, // custom mobile thumbnails
    { url: 'assets/oubliettes/', src: 'asset_007', thumb: 'asset_007_thumb', project: 'oubliettes', index: '0', mobileColumn: '2 / 16', mobileRow: '10 / 20', desktopColumn: '2 / 16', desktopRow: '10 / 20' },  // custom mobile thumbnails
    { url: 'assets/oubliettes/', src: 'asset_008', thumb: 'asset_008_thumb', project: 'oubliettes', index: '0', mobileColumn: '6 / 16', mobileRow: '22 / 29', desktopColumn: '6 / 16', desktopRow: '22 / 29' },  // custom mobile thumbnails
    { url: 'assets/oubliettes/', src: 'asset_009', thumb: 'asset_009', project: 'oubliettes', index: '0', mobileColumn: '2 / 12', mobileRow: '31 / 38', desktopColumn: '20 / 30', desktopRow: '15 / 22' },  // custom mobile thumbnails
    { url: 'assets/oubliettes/', src: 'asset_010', thumb: 'asset_010_thumb', project: 'oubliettes', index: '0', mobileColumn: '4 / 14', mobileRow: '40 / 47', desktopColumn: '32 / 42', desktopRow: '15 / 22' },  // custom mobile thumbnails
    { url: 'assets/oubliettes/', src: 'asset_011', thumb: 'asset_011_thumb', project: 'oubliettes', index: '0', mobileColumn: '2 / 16', mobileRow: '49 / 59', desktopColumn: '18 / 32', desktopRow: '24 / 34' },  // custom mobile thumbnails
    { url: 'assets/oubliettes/', src: 'asset_015', thumb: 'asset_015', project: 'oubliettes', index: '0', mobileColumn: '2 / 12', mobileRow: '61 / 68', desktopColumn: '34 / 44', desktopRow: '29/ 36' },  // custom mobile thumbnails
    { url: 'assets/oubliettes/', src: 'asset_012', thumb: 'asset_012_thumb', project: 'oubliettes', index: '0', mobileColumn: '6 / 16', mobileRow: '70 / 77', desktopColumn: '4 / 14', desktopRow: '36 / 43' },  // custom mobile thumbnails
    { url: 'assets/oubliettes/', src: 'asset_013', thumb: 'asset_013', project: 'oubliettes', index: '0', mobileColumn: '4 / 14', mobileRow: '79 / 86', desktopColumn: '16 / 26', desktopRow: '36 / 43' },  // custom mobile thumbnails
    { url: 'assets/oubliettes/', src: 'asset_014', thumb: 'asset_014_thumb', project: 'oubliettes', index: '0', mobileColumn: '2 / 16', mobileRow: '88 / 98', desktopColumn: '28 / 42', desktopRow: '38 / 48' },  // custom mobile thumbnails
    { url: 'assets/oubliettes/', src: 'asset_016', thumb: 'asset_016', project: 'oubliettes', index: '0', mobileColumn: '4 / 14', mobileRow: '100 / 107', desktopColumn: '32 / 42', desktopRow: '50 / 57' },  // custom mobile thumbnails
    { url: 'assets/oubliettes/', src: 'asset_017', project: 'oubliettes', index: '0' },
    { url: 'assets/oubliettes/', src: 'asset_018', project: 'oubliettes', index: '0' },
    { url: 'assets/oubliettes/', src: 'asset_019', project: 'oubliettes', index: '0' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2024_08_hsa_gartenweg_025', thumb: 'tim_ott_2024_08_hsa_gartenweg_025', project: 'gartenweg', index: '0', mobileColumn: '2 / 12', mobileRow: '1 / 15', desktopColumn: '34 / 44', desktopRow: '1 / 15' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2024_08_hsa_gartenweg_040', thumb: 'tim_ott_2024_08_hsa_gartenweg_040', project: 'gartenweg', index: '1', mobileColumn: '2 / 16', mobileRow: '17 / 27', desktopColumn: '18 / 32', desktopRow: '15 / 25' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2024_08_hsa_gartenweg_030', thumb: 'tim_ott_2024_08_hsa_gartenweg_030', project: 'gartenweg', index: '2', mobileColumn: '2 / 9', mobileRow: '29 / 39', desktopColumn: '25 / 32', desktopRow: '3 / 13' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2024_08_hsa_gartenweg_017', thumb: 'tim_ott_2024_08_hsa_gartenweg_017', project: 'gartenweg', index: '3', mobileColumn: '2 / 9', mobileRow: '41 / 51', desktopColumn: '9 / 16', desktopRow: '13 / 23' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2024_08_hsa_gartenweg_007', thumb: 'tim_ott_2024_08_hsa_gartenweg_007', project: 'gartenweg', index: '4', mobileColumn: '2 / 12', mobileRow: '53 / 67', desktopColumn: '2 / 12', desktopRow: '25 / 39' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2024_08_hsa_gartenweg_070', thumb: 'tim_ott_2024_08_hsa_gartenweg_070', project: 'gartenweg', index: '5', mobileColumn: '2 / 16', mobileRow: '69 / 79', desktopColumn: '4 / 18', desktopRow: '41 / 51' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2024_08_hsa_gartenweg_075', thumb: 'tim_ott_2024_08_hsa_gartenweg_075', project: 'gartenweg', index: '6', mobileColumn: '2 / 12', mobileRow: '81 / 88', desktopColumn: '20 / 30', desktopRow: '36 / 43' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2024_08_hsa_gartenweg_057', thumb: 'tim_ott_2024_08_hsa_gartenweg_057', project: 'gartenweg', index: '7', mobileColumn: '2 / 12', mobileRow: '90 / 104', desktopColumn: '20 / 30', desktopRow: '49 / 63' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2024_08_hsa_gartenweg_043', thumb: 'tim_ott_2024_08_hsa_gartenweg_043', project: 'gartenweg', index: '8', mobileColumn: '2 / 9', mobileRow: '106 / 116', desktopColumn: '11 / 18', desktopRow: '57 / 67' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2023_11_hsa_gartenweg_102', thumb: 'tim_ott_2023_11_hsa_gartenweg_102', project: 'gartenweg', index: '9', mobileColumn: '2 / 12', mobileRow: '118 / 125', desktopColumn: '28 / 38', desktopRow: '65 / 72' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2023_11_hsa_gartenweg_023', thumb: 'tim_ott_2023_11_hsa_gartenweg_023', project: 'gartenweg', index: '10', mobileColumn: '2 / 12', mobileRow: '127 / 134', desktopColumn: '34 / 44', desktopRow: '74 / 81' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2023_11_hsa_gartenweg_061', thumb: 'tim_ott_2023_11_hsa_gartenweg_061', project: 'gartenweg', index: '11', mobileColumn: '2 / 16', mobileRow: '136 / 146', desktopColumn: '18 / 32', desktopRow: '76/ 86' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2023_11_hsa_gartenweg_052', thumb: 'tim_ott_2023_11_hsa_gartenweg_052', project: 'gartenweg', index: '12', mobileColumn: '2 / 12', mobileRow: '148 / 155', desktopColumn: '22 / 32', desktopRow: '88 / 95' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2023_11_hsa_gartenweg_004', thumb: 'tim_ott_2023_11_hsa_gartenweg_004', project: 'gartenweg', index: '13', mobileColumn: '2 / 12', mobileRow: '157 / 164', desktopColumn: '2 / 12', desktopRow: '88 / 95' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2023_11_hsa_gartenweg_018', thumb: 'tim_ott_2023_11_hsa_gartenweg_018', project: 'gartenweg', index: '14', mobileColumn: '2 / 12', mobileRow: '166 / 173', desktopColumn: '18 / 28', desktopRow: '97 / 104' },
    { url: 'assets/gartenweg/', src: 'tim_ott_2023_11_hsa_gartenweg_055', thumb: 'tim_ott_2023_11_hsa_gartenweg_055', project: 'gartenweg', index: '15', mobileColumn: '2 / 16', mobileRow: '175 / 185', desktopColumn: '30 / 44', desktopRow: '99/ 109' }
]
// append images on load
window.addEventListener('load', loadImages);
// append images on resize
let resizeTimeout;
const debounce = (func, delay) => {
    return (...args) => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
            func.apply(this, args);
        }, delay);
    };
};
const handleResize = debounce(() => {
    const gridContainer = document.querySelectorAll('.gridContainer');
    gridContainer.forEach(gridContainer => gridContainer.textContent = '');
    loadImages();
}, 100);
window.addEventListener('resize', handleResize);
// append images
function loadImages() {
    images.forEach((img) => {
        const arrowLeft = 37;
        const arrowRight = 39;
        const lightbox = document.querySelector('.lightbox');
        const lightboxSrc = document.querySelector('.lightboxSrc');
        const lightboxCount = document.querySelector('.lightboxCount');
        const lightboxClose = document.querySelector('.lightboxClose');
        const lightboxPrev = document.querySelector('.lightboxPrev');
        const lightboxNext = document.querySelector('.lightboxNext');
        const imgContainer = document.createElement('div');
        imgContainer.className = 'imgContainer';
        imgContainer.title = '\u00A9 tim ott';
        imgContainer.alt = '\u00A9 tim ott';
        imgContainer.style.backgroundImage = `url(${img.url}${img.thumb}.jpg)`;
        imgContainer.style.backgroundRepeat = 'round';
        imgContainer.style.backgroundSize = 'cover';
        imgContainer.style.cursor = 'pointer';
        // define device breakpoints in pixels
        const breakpoints = [0, 767.9];
        const isMobile = window.innerWidth < breakpoints[1];
        imgContainer.style.gridColumn = isMobile ? img.mobileColumn : img.desktopColumn;
        imgContainer.style.gridRow = isMobile ? img.mobileRow : img.desktopRow;
        document.querySelector(`.${img.project}`).appendChild(imgContainer);
        // set currentIndex to index value from selected images
        // push images with same project value as selected image to new array

        // CONTINUE AI COMPARE HERE

        imgContainer.addEventListener('click', function () {
            let currentIndex = img.index;
            let imgSelection = images.filter((selected) => selected.project === img.project);
            let imgSelectionPath = [];
            imgSelection.forEach((selectedImage) => {
                imgSelectionPath.push(selectedImage.url + selectedImage.src + '.jpg');
            });
            console.log(imgSelection);
            console.log(imgSelectionPath);
            console.log('current project: ' + img.project);
            // open lightbox with selected image
            lightboxSrc.setAttribute('src', img.url + img.src);
            lightbox.style.display = 'flex';
            lightboxSrc.style.objectFit = 'contain';
            document.body.style.overflow = 'hidden';
            updateImage();
            // updates lightboxCount according to currentIndex
            function updateImage() {
                console.log('current image: ' + imgSelectionPath[currentIndex]);
                lightboxSrc.setAttribute('src', imgSelectionPath[currentIndex]);
                lightboxCount.textContent = `${parseFloat(currentIndex) + 1} / ${imgSelection.length}`;
            }
            // lightbox navigation
            document.onkeydown = checkKey;
            function checkKey(pressed) {
                if (pressed.keyCode == arrowLeft) {
                    cyclePrev();
                } else if (pressed.keyCode == arrowRight) {
                    cycleNext();
                }
            }
            /* AI WRITTEN MORE EFFICIENT, BUT CAUSES DOUBLE PRINT, EVENT LISTENER NOT DELETED?
            document.addEventListener('keydown', checkKey)
            function checkKey(event) {
                switch (event.key) {
                    case 'ArrowLeft':
                        event.preventDefault()
                        cyclePrev()
                        break
                    case 'ArrowRight':
                        event.preventDefault()
                        cycleNext()
                        break
                    case 'Escape':
                        closeLightbox()
                        break
                }
            }
            */
            // addEventListener if none was added
            if (!lightboxClose.hasEventListener) {
                lightboxClose.addEventListener('click', closeLightbox);
                lightboxClose.hasEventListener = true;
            }
            if (!lightboxPrev.hasEventListener) {
                lightboxPrev.addEventListener('click', cyclePrev);
                lightboxPrev.hasEventListener = true;
            }
            if (!lightboxNext.hasEventListener) {
                lightboxNext.addEventListener('click', cycleNext);
                lightboxNext.hasEventListener = true;
            }
            if (!lightbox.hasEventListener) {
                lightbox.addEventListener('click', lightboxClick);
                lightbox.hasEventListener = true;
            }
            function cyclePrev() {
                currentIndex = (parseFloat(currentIndex) - 1 + imgSelectionPath.length) % imgSelectionPath.length;
                updateImage();
            }
            function cycleNext() {
                currentIndex = (parseFloat(currentIndex) + 1) % imgSelectionPath.length;
                updateImage();
            }
            function lightboxClick(click) {
                if (click.target === lightbox) {
                    closeLightbox();
                    console.log('test');
                }
            }
            function closeLightbox() {
                lightboxClose.removeEventListener('click', closeLightbox);
                lightboxClose.hasEventListener = false;
                lightboxPrev.removeEventListener('click', cyclePrev);
                lightboxPrev.hasEventListener = false;
                lightboxNext.removeEventListener('click', cycleNext);
                lightboxNext.hasEventListener = false;
                lightbox.removeEventListener('click', lightboxClick);
                lightbox.hasEventListener = false;
                lightbox.style.display = 'none';
                lightboxSrc.style.objectFit = 'cover';
                lightboxSrc.setAttribute('src', '');
            }
        });
    });
}

// AI WRITTEN FOLLOWS, to compare
/*

imgContainer.addEventListener('click', () => {
            openLightbox(img);
        });




function openLightbox(selectedImg) {
        const imgSelection = images.filter(img => img.project === selectedImg.project);
        const imgSelectionPath = imgSelection.map(img => `${img.url}${img.src}.jpg`);

        let currentIndex = selectedImg.index;

        function updateImage() {
            lightboxSrc.setAttribute('src', imgSelectionPath[currentIndex]);
            lightboxCount.textContent = `${currentIndex + 1} / ${imgSelection.length}`;
        }

        function cyclePrev() {
            currentIndex = (currentIndex - 1 + imgSelectionPath.length) % imgSelectionPath.length;
            updateImage();
        }

        function cycleNext() {
            currentIndex = (currentIndex + 1) % imgSelectionPath.length;
            updateImage();
        }

        function closeLightbox() {
            lightbox.style.display = 'none';
            lightboxSrc.setAttribute('src', '');
            document.body.style.overflow = 'auto';
            removeEventListeners();
        }

        function removeEventListeners() {
            document.removeEventListener('keydown', handleKeydown);
            lightboxClose.removeEventListener('click', closeLightbox);
            lightboxPrev.removeEventListener('click', cyclePrev);
            lightboxNext.removeEventListener('click', cycleNext);
        }

        function handleKeydown(event) {
            if (event.keyCode === LEFT_ARROW_KEY) {
                cyclePrev();
            } else if (event.keyCode === RIGHT_ARROW_KEY) {
                cycleNext();
            } else if (event.key === 'Escape') {
                closeLightbox();
            }
        }

        document.addEventListener('keydown', handleKeydown);
        lightboxClose.addEventListener('click', closeLightbox);
        lightboxPrev.addEventListener('click', cyclePrev);
        lightboxNext.addEventListener('click', cycleNext);
        lightbox.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        updateImage();
    }

*/

// preventDefault, mainly disables scrolling on safari while lightbox is open
window.addEventListener('keydown', function (e) {
    if (['Space', 'ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].indexOf(e.code) > -1) {
        e.preventDefault();
    }
}, false);